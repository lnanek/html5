<!DOCTYPE HTML>
<html>
  <head><title>HTML5: Zero to Hero</title></head>
  <body>
    <canvas id="myCanvas" width="600" height="600" ></canvas>
    <script>
      var context = document.getElementById('myCanvas').getContext('2d');
      var background = new Image();
      background.src = 'space.gif';

	  var ufo = new Image();
	  ufo.src = "ufo.png";
      var px = 200, py = 400, vx = -60, vy = 90;
      var lastFrame;

      requestAnimationFrame(update);
      function update() {
		requestAnimationFrame(update);
        context.drawImage(background, 0, 0);

		var now = new Date();
		if (lastFrame) {
		  var deltaMs = now - lastFrame;
		  px += vx * deltaMs / 1000;
	  	  py += vy * deltaMs / 1000;
	  	  px = px >= 600 ? 0 : px < 0 ? 600 : px;
	  	  py = py >= 600 ? 0 : py < 0 ? 600 : py;
  	      context.drawImage(ufo, px, py);
		}
		lastFrame = now;
      }
    </script>
  </body>
</html>
